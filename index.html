<!DOCTYPE html>
<html lang="bn">
<head>
    <script>(function(s){s.dataset.zone='10432505',s.src='https://nap5k.com/tag.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <script>(function(s){s.dataset.zone='10432509',s.src='https://gizokraijaw.net/vignette.min.js'})([document.documentElement, document.body].filter(Boolean).pop().appendChild(document.createElement('script')))</script>
    <script src='//libtl.com/sdk.js' data-zone='10346520' data-sdk='show_10346520'></script>
    <meta name="monetag" content="ba7f6903d1cbdce61c183385b3356e1b">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viral Bot Store - Premium Portal</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
    
    <style>
        :root { 
            --primary: #581c87; 
            --accent: linear-gradient(135deg, #6d28d9, #4f46e5); 
            --bg: #020617; 
            --card-bg: #0f172a; 
            --white: #ffffff; 
            --text-main: #f8fafc; 
            --text-dim: #94a3b8; 
            --input-bg: #1e293b;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background-color: var(--bg); color: var(--text-main); font-family: 'BUILT TITLING BD', sans-serif; }
        [lang="bn"], .bn-text { font-family: 'Li Ador Noirrit Bold', sans-serif; }

        .sticky-top-container { position: sticky; top: 0; z-index: 1000; background: var(--bg); box-shadow: 0 4px 20px rgba(0,0,0,0.6); }
        .banner-header { width: 100%; height: auto; display: block; border-bottom: 2px solid var(--primary); }
        
        .social-bar {
            background: rgba(30, 41, 59, 0.5);
            margin: 10px 15px 0 15px;
            padding: 8px 15px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(88, 28, 135, 0.3);
        }
        .social-bar span { font-size: 12px; color: var(--text-dim); text-transform: uppercase; letter-spacing: 1px; }
        .social-icons { display: flex; gap: 15px; }
        .social-icons a { color: var(--white); font-size: 16px; transition: 0.3s; }
        .social-icons a:hover { color: #a78bfa; }

        .search-container { padding: 12px 15px; max-width: 600px; margin: 0 auto; }
        .search-box input { width: 100%; padding: 12px 20px; border-radius: 12px; border: 1px solid var(--primary); background: var(--input-bg); color: white; outline: none; }

        .content-section { display: none; padding: 15px; padding-bottom: 120px; max-width: 600px; margin: 0 auto; }
        .content-section.active { display: block; }

        .v-card { background: var(--card-bg); border-radius: 20px; overflow: hidden; margin-bottom: 25px; border: 1px solid #1e293b; }
        
        .v-thumb { width: 100%; aspect-ratio: 16/9; position: relative; background: #000; overflow: hidden; cursor: pointer; }
        .v-thumb img { width: 100%; height: 100%; object-fit: cover; display: none; }
        .v-thumb.revealed img { display: block !important; }
        .v-thumb.revealed .action-overlay { display: none !important; }
        
        .action-overlay { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.7); z-index: 4; }
        .badge { position: absolute; top: 12px; left: 12px; background: var(--accent); color: white; padding: 5px 12px; border-radius: 8px; font-size: 10px; z-index: 5; }
        
        .v-info { padding: 18px; }
        .view-count { font-size: 12px; color: var(--text-dim); margin-bottom: 10px; display: flex; align-items: center; gap: 5px; }
        .btn-main { width: 100%; padding: 15px; border: none; border-radius: 12px; background: var(--accent); color: white; font-weight: 800; cursor: pointer; text-transform: uppercase; }

        .nav-wrapper { position: fixed; bottom: 20px; left: 5%; right: 5%; background: rgba(15, 23, 42, 0.9); backdrop-filter: blur(15px); border-radius: 20px; border: 1px solid var(--primary); z-index: 1000; }
        .bottom-nav { display: grid; grid-template-columns: 1fr 1fr 1fr; padding: 10px; }
        .nav-item { display: flex; flex-direction: column; align-items: center; color: var(--text-dim); cursor: pointer; font-size: 11px; }
        .nav-item.active { color: #a78bfa; }
    </style>
</head>
<body>

    <div class="sticky-top-container">
        <img src="https://i.postimg.cc/FswJ4vdD/IMG-20260107-051613.jpg" alt="Banner" class="banner-header">
        
        <div class="social-bar">
            <span>Our Social Community</span>
            <div class="social-icons">
                <a id="fb-link" href="#" target="_blank"><i class="fab fa-facebook-f"></i></a>
                <a id="tg-link" href="#" target="_blank"><i class="fab fa-telegram-plane"></i></a>
                <a id="wa-link" href="#" target="_blank"><i class="fab fa-whatsapp"></i></a>
            </div>
        </div>

        <div class="search-container">
            <div class="search-box"><input type="text" id="searchInput" placeholder="সার্চ করুন..." oninput="searchContent()"></div>
        </div>
    </div>

    <section id="video" class="content-section active"><div id="video-list"></div></section>
    <section id="image" class="content-section"><div id="image-list"></div></section>
    <section id="short-film" class="content-section"><div id="short-film-list"></div></section>

    <div class="nav-wrapper">
        <nav class="bottom-nav">
            <div class="nav-item active" onclick="tab('video', this)"><i class="fa-solid fa-bolt"></i><span>Video</span></div>
            <div class="nav-item" onclick="tab('image', this)"><i class="fa-solid fa-images"></i><span>Image</span></div>
            <div class="nav-item" onclick="tab('short-film', this)"><i class="fa-solid fa-clapperboard"></i><span>Shorts</span></div>
        </nav>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyByCC_vYgY_vA92s6OHDbKhbkTqnycYb5Q",
            authDomain: "stream-vibe-b4900.firebaseapp.com",
            databaseURL: "https://stream-vibe-b4900-default-rtdb.firebaseio.com",
            projectId: "stream-vibe-b4900",
            storageBucket: "stream-vibe-b4900.firebasestorage.app",
            messagingSenderId: "997470087286",
            appId: "1:997470087286:web:3ba3facca244c2c6651757"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        db.ref('socialLinks').on('value', snap => {
            const links = snap.val();
            if(links) {
                document.getElementById('fb-link').href = links.fb || "#";
                document.getElementById('tg-link').href = links.tg || "#";
                document.getElementById('wa-link').href = links.wa || "#";
            }
        });

        function tab(id, el) {
            document.querySelectorAll('.content-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            el.classList.add('active');
            loadData(id);
        }

        function loadData(category) {
            db.ref('contents').orderByChild('category').equalTo(category).on('value', snapshot => {
                const list = document.getElementById(`${category}-list`);
                let items = [];
                snapshot.forEach(child => { items.push({ id: child.key, ...child.val() }); });
                renderUI(items.reverse(), list, category);
            });
        }

        function renderUI(data, container, category) {
            let html = '';
            data.forEach(item => {
                const id = item.id;
                // ভিউজ সংখ্যা ফরম্যাট করা (০ থাকলে ০ দেখাবে)
                const views = item.views || 0;
                html += `
                <div class="v-card" data-title="${item.title.toLowerCase()}">
                    <div class="v-thumb" id="t-${id}" onclick="window.open('https://otieu.com/4/10346483', '_blank')">
                        <span class="badge">${item.tag}</span>
                        <img src="${item.thumb}">
                        <div class="action-overlay"><i class="fa fa-play-circle" style="font-size:50px; color:white;"></i></div>
                    </div>
                    <div class="v-info">
                        <h3 class="bn-text">${item.title}</h3>
                        <div class="view-count">
                            <i class="fa-solid fa-eye"></i> ${views} views
                        </div>
                        <button class="btn-main" id="b-${id}" onclick="initAction('${id}', '${category}', '${item.contentLink}', ${item.adsCount})">
                            Show Content
                        </button>
                    </div>
                </div>`;
            });
            container.innerHTML = html;
        }

        function searchContent() {
            let input = document.getElementById('searchInput').value.toLowerCase();
            let cards = document.getElementsByClassName('v-card');
            for (let i = 0; i < cards.length; i++) {
                let title = cards[i].getAttribute('data-title');
                cards[i].style.display = title.includes(input) ? "block" : "none";
            }
        }

        let currentClickCount = {};
        let isRevealed = {};

        function countView(contentId) {
            const viewRef = db.ref('contents/' + contentId + '/views');
            viewRef.transaction((currentViews) => {
                return (currentViews || 0) + 1;
            });
        }

        function initAction(id, type, link, ads) {
            const thumb = document.getElementById(`t-${id}`);
            const btn = document.getElementById(`b-${id}`);

            if (!isRevealed[id]) {
                thumb.classList.add('revealed');
                isRevealed[id] = true;
                btn.innerText = "Unlock Full Video";
                return;
            }

            if (type === 'image') {
                countView(id);
                window.open(link, '_blank');
            } else {
                if (!currentClickCount[id]) currentClickCount[id] = 0;
                
                if (currentClickCount[id] < ads) {
                    if (typeof show_10346520 === 'function') {
                        show_10346520().then(() => {
                            currentClickCount[id]++;
                            btn.innerText = `Unlock in ${ads - currentClickCount[id]} Ads`;
                            if(currentClickCount[id] >= ads) btn.innerText = "Watch Now";
                        });
                    } else {
                        currentClickCount[id]++;
                        btn.innerText = `Unlock in ${ads - currentClickCount[id]} Ads`;
                    }
                } else {
                    countView(id);
                    window.location.href = link; 
                }
            }
        }

        loadData('video');
    </script>
</body>
</html>
